(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a(324)},318:function(e,t,a){},324:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(171),l=a.n(c),o=a(45),i=a(329),u=a(325),s=a(338),m=a(346),f=a(347),d="http://13.59.49.252:8080",h="".concat(d,"/login"),E=function(e){return fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw Error("Fail to log in");return e.json()})},p="".concat(d,"/signup"),g=function(e){return fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(201!==e.status)throw Error("Fail to sign up")})},b="".concat(d,"/logout"),y=function(){return fetch(b,{method:"POST",credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to log out")})},v="".concat(d,"/game"),O=function(){return fetch(v).then(function(e){if(200!==e.status)throw Error("Fail to get top games");return e.json()})},S="".concat(d,"/game?game_name="),w="".concat(d,"/search?game_id="),j=function(e){return fetch("".concat(w).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find items of the game by game id");return e.json()})},C=function(e){return function(e){return fetch("".concat(S).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to search the game by its name");return e.json()})}(e).then(function(e){if(console.log(e[0]),e[0]&&e[0].id)return j(e[0].id);throw Error("Fail to find the game")})},I="".concat(d,"/favorite"),F=function(){return fetch(I,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get favorite item");return e.json()})},k="".concat(d,"/recommendation"),P=function(){return fetch(k,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get recommended item");return e.json()})},T=a(79),R=a(337),_=a(334),D=a(335),x=a(340),A=a(341);var L=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{type:"primary",onClick:function(){c(!0)}},r.a.createElement("b",null,"Sign Up")),r.a.createElement(R.a,{title:"Sign Up and Enjoy",visible:a,onCancel:function(){c(!1)},footer:null,destroyOnClose:!0},r.a.createElement(_.a,{name:"normal_register",initialValues:{remember:!0},onFinish:function(e){console.log(e),m(!0),g(e).then(function(){c(!1),u.b.success("Successfully signed up")}).catch(function(e){u.b.error(e.message)}).finally(function(){m(!1)})},preserve:!1},r.a.createElement(_.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email(username)!"}]},r.a.createElement(D.a,{prefix:r.a.createElement(x.a,null),placeholder:"Email"})),r.a.createElement(_.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(D.a,{prefix:r.a.createElement(A.a,null),placeholder:"Password"})),r.a.createElement(_.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your Firstname!"}]},r.a.createElement(D.a,{placeholder:"firstname"})),r.a.createElement(_.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Lastname!"}]},r.a.createElement(D.a,{placeholder:"lastname"})),r.a.createElement(_.a.Item,null,r.a.createElement(T.a,{type:"primary",htmlType:"submit",loading:s},r.a.createElement("b",null,"Signup"))))))};var M=function(e){var t=e.onSuccess,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),f=m[0],d=m[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:function(){i(!0)},style:{marginRight:"20px"}},r.a.createElement("b",null,"Login")),r.a.createElement(R.a,{title:"Sign in with Ur Email",visible:l,onCancel:function(){i(!1)},footer:null,destroyOnClose:!0},r.a.createElement(_.a,{name:"normal_login",onFinish:function(e){d(!0),E(e).then(function(e){i(!1),u.b.success("Welcome back, ".concat(e.name)),t()}).catch(function(e){u.b.error(e.message)}).finally(function(){d(!1)})},preserve:!1},r.a.createElement(_.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(D.a,{prefix:r.a.createElement(x.a,null),placeholder:"Username(Email)"})),r.a.createElement(_.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(D.a.Password,{prefix:r.a.createElement(A.a,null),placeholder:"Password"})),r.a.createElement(_.a.Item,null,r.a.createElement(T.a,{type:"primary",htmlType:"submit",loading:f},r.a.createElement("b",null,"Login"))))))},V=a(330),N=a(331),q=a(83),J=a(84),U=a(88),G=a(85),H=a(89),B=a(339),K=a(342),W=a(328),X=a(343),Z=a(344),Y=function(e){function t(){return Object(q.a)(this,t),Object(U.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.items.map(function(e){return r.a.createElement(s.a.Item,{key:e.id},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},function(e){var t;return t="undefined"!==typeof e.broadcaster_name?"".concat(e.broadcaster_name):"".concat(e.user_name),r.a.createElement(r.a.Fragment,null,"".concat(t," - ").concat(e.title))}(e)))}))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(U.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={displayDrawer:!1},a.onFavoriteClick=function(){a.setState({displayDrawer:!0})},a.onDrawerClose=function(){a.setState({displayDrawer:!1})},a}return Object(H.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){var e=this.props.favoriteItems,t=e.VIDEO,a=e.STREAM,n=e.CLIP;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{type:"primary",shape:"round",onClick:this.onFavoriteClick,icon:r.a.createElement(K.a,null)},r.a.createElement("b",null,"  Following")),r.a.createElement(B.a,{title:"My Favorites",placement:"right",width:720,visible:this.state.displayDrawer,onClose:this.onDrawerClose},r.a.createElement(s.a,{mode:"inline",defaultOpenKeys:["streams"],style:{height:"100%",borderRight:0},selectable:!1},r.a.createElement(s.a.SubMenu,{key:"streams",icon:r.a.createElement(W.a,null),title:"Streams"},r.a.createElement(Y,{items:a})),r.a.createElement(s.a.SubMenu,{key:"videos",icon:r.a.createElement(X.a,null),title:"Videos"},r.a.createElement(Y,{items:t})),r.a.createElement(s.a.SubMenu,{key:"clips",icon:r.a.createElement(Z.a,null),title:"Clips"},r.a.createElement(Y,{items:n})))))}}]),t}(n.Component),Q=a(107);var $=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],l=a[1],i=e.onSuccess;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{shape:"round",onClick:function(){l(!0)},icon:r.a.createElement(Q.a,null),style:{marginRight:"20px",marginTop:"20px"}},r.a.createElement("b",null,"  Search")),r.a.createElement(R.a,{title:"Search",visible:c,onCancel:function(){l(!1)},footer:null},r.a.createElement(_.a,{name:"search_form",onFinish:function(e){C(e.game_name).then(function(e){l(!1),i(e)}).catch(function(e){u.b.error(e.message)})}},r.a.createElement(_.a.Item,{name:"game_name",rules:[{required:!0,message:"Please enter a game name"}]},r.a.createElement(D.a,{placeholder:"Game name"})),r.a.createElement(_.a.Item,null,r.a.createElement(T.a,{type:"primary",htmlType:"submit"},r.a.createElement("b",null,"Search"))))))},ee=i.a.Header;var te=function(e){var t=e.loggedIn,a=e.signoutOnClick,n=e.signinOnSuccess,c=e.favoriteItems,l=e.searchOnSuccess;return r.a.createElement(ee,null,r.a.createElement(V.a,{justify:"space-between"},r.a.createElement(N.a,null,t&&r.a.createElement(z,{favoriteItems:c})),r.a.createElement(N.a,null,r.a.createElement($,{onSuccess:l})),r.a.createElement(N.a,null,t&&r.a.createElement(T.a,{shape:"round",onClick:a},r.a.createElement("b",null,"Log out")),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{onSuccess:n}),r.a.createElement(L,null)))))},ae=a(321),ne=a(104),re=a(333),ce=a(336),le=a(345),oe=ae.a.TabPane,ie="stream",ue="videos",se="clips",me=function(e){return"STREAM"===e.item_type?e.thumbnail_url.replace("%{height}","252").replace("%{width}","480").replace("{height}","252").replace("{width}","480"):e.thumbnail_url},fe=function(e,t,a,n){var c;c="undefined"!==typeof e.broadcaster_name?"".concat(e.broadcaster_name):"".concat(e.user_name);var l="".concat(c," - ").concat(e.title),o="undefined"!==typeof fav&&a.find(function(t){return t.id===e.id});return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(ne.a,{title:o?"Remove from favorite list":"Add to favorite list"},r.a.createElement(T.a,{shape:"circle",icon:o?r.a.createElement(K.a,null):r.a.createElement(le.a,null),onClick:function(){var t;o?(t=e,fetch(I,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:t})}).then(function(e){if(200!==e.status)throw Error("Fail to delete favorite item")})).then(function(){n()}).catch(function(e){u.b.error(e.message)}):function(e){return fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:e})}).then(function(e){if(200!==e.status)throw Error("Fail to add favorite item")})}(e).then(function(){n()}).catch(function(e){u.b.error(e.message)})}})),r.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:450}},r.a.createElement(ne.a,{title:l},r.a.createElement("span",null,l))))},de=function(e,t,a,n){return r.a.createElement(re.b,{grid:{},dataSource:e,renderItem:function(e){return r.a.createElement(re.b.Item,{style:{marginRight:"20px"}},r.a.createElement(ce.a,{title:fe(e,t,a,n)},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:"Placeholder",src:me(e)}))))}})},he=function(e){var t=e.resources,a=e.loggedIn,n=e.favoriteItems,c=e.favoriteOnChange,l=t.VIDEO,o=t.STREAM,i=t.CLIP,u=n.VIDEO,s=n.STREAM,m=n.CLIP;return r.a.createElement(ae.a,{defaultActiveKey:ie},r.a.createElement(oe,{tab:"Streams",key:ie,style:{height:"680px",overflow:"auto"},forceRender:!0},de(o,a,s,c)),r.a.createElement(oe,{tab:"Videos",key:ue,style:{height:"680px",overflow:"auto"},forceRender:!0},de(l,a,u,c)),r.a.createElement(oe,{tab:"Clips",key:se,style:{height:"680px",overflow:"auto"},forceRender:!0},de(i,a,m,c)))},Ee=a(176),pe=function(e){function t(){return Object(q.a)(this,t),Object(U.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(J.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},"\xa9".concat((new Date).getFullYear()),r.a.createElement("a",{href:"#"}," Easy Games.")," All Rights Reserved. Website Made by Sean - ",r.a.createElement("a",{href:"mailto:Sean.XUANZHANG@gmail.com"},"Xuan Zhang."))}}]),t}(n.Component),ge=i.a.Header,be=i.a.Content,ye=i.a.Sider;var ve=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([{VIDEO:[],STREAM:[],CLIP:[]}]),d=Object(o.a)(l,2),h=d[0],E=d[1],p=Object(n.useState)([]),g=Object(o.a)(p,2),b=g[0],v=g[1],S=Object(n.useState)({VIDEO:[],STREAM:[],CLIP:[]}),w=Object(o.a)(S,2),C=w[0],I=w[1];return Object(n.useEffect)(function(){O().then(function(e){v(e)}).catch(function(e){u.b.error(e.message)})},[]),r.a.createElement(i.a,null,r.a.createElement(ge,null,r.a.createElement(te,{loggedIn:a,signoutOnClick:function(){y().then(function(){c(!1),u.b.success("Successfully Signed out")}).catch(function(e){u.b.error(e.message)})},signinOnSuccess:function(){c(!0),F().then(function(e){var t=e.VIDEO,a=e.STREAM,n=e.CLIP;"undefined"===typeof t&&(e.VIDEO=[]),"undefined"===typeof a&&(e.STREAM=[]),"undefined"===typeof n&&(e.CLIP=[]),E(e)}).catch(function(e){u.b.error(e.message)})},searchOnSuccess:function(e){I(e)},favoriteItems:h})),r.a.createElement(i.a,null,r.a.createElement(ye,{width:300,style:{backgroundColor:"lightgray"}},r.a.createElement(s.a,{mode:"inline",className:"site-top-game-list",style:{marginTop:"25px"},onSelect:function(e){var t=e.key;"recommendation"!==t?j(t).then(function(e){I(e)}):P().then(function(e){I(e)})},items:function(e){return[{label:"Recommend for you!",key:"recommendation",icon:r.a.createElement(m.a,null)},{label:"Popular Games",key:"popular_games",icon:r.a.createElement(f.a,null),children:e.map(function(e){return{label:e.name,key:e.id,icon:r.a.createElement("img",{alt:"placeholder",src:e.box_art_url.replace("{height}","40").replace("{width}","40"),style:{borderRadius:"50%",marginRight:"20px"}})}})}]}(b)})),r.a.createElement(i.a,{style:{padding:"24px"}},r.a.createElement(be,{className:"site-layout-background",style:{padding:24,margin:0,height:800,borderRadius:6,overflow:"auto"}},r.a.createElement(he,{resources:C,loggedIn:a,favoriteItems:h,favoriteOnChange:function(){F().then(function(e){var t=e.VIDEO,a=e.STREAM,n=e.CLIP;"undefined"===typeof t&&(e.VIDEO=[]),"undefined"===typeof a&&(e.STREAM=[]),"undefined"===typeof n&&(e.CLIP=[]),E(e)}).catch(function(e){u.b.error(e.message)})}})))),r.a.createElement(Ee.Footer,{className:"site-layout-background"},r.a.createElement(pe,null)))},Oe=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,332)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})};a(318);l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null))),Oe()}},[[178,3,2]]]);
//# sourceMappingURL=main.2d3fc7a9.chunk.js.map